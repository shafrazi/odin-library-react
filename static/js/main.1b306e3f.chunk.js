(this["webpackJsonpodin-library-react"]=this["webpackJsonpodin-library-react"]||[]).push([[0],{11:function(e,t,o){e.exports=o(17)},16:function(e,t,o){},17:function(e,t,o){"use strict";o.r(t);var a=o(0),n=o.n(a),s=o(10),r=o.n(s),i=o(6),c=o(7),l=o(2),h=o(3),k=o(1),d=o(5),b=o(4);var u=function(e){return n.a.createElement("header",null,n.a.createElement("h1",{className:"logo"},"My Library"),n.a.createElement("button",{onClick:e.onClick,className:"btn  btn-primary"},"Add New Book"))},p=o(8),m=function(e){Object(d.a)(o,e);var t=Object(b.a)(o);function o(e){var a;return Object(l.a)(this,o),(a=t.call(this,e)).state={book:a.props.book},a.handleChange=a.handleChange.bind(Object(k.a)(a)),a}return Object(h.a)(o,[{key:"handleChange",value:function(e){e.persist(),this.setState((function(t){return t.book.isRead=e.target.checked,{book:t.book}})),console.log("hello")}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"book-card"},n.a.createElement("h3",null,this.props.book.title),n.a.createElement("p",null,this.props.book.author),n.a.createElement("p",null,this.props.book.pages," pages"),n.a.createElement("img",{src:this.props.book.coverImage,alt:"book"}),n.a.createElement("br",null),n.a.createElement("label",null,"Mark as read :",n.a.createElement("input",{type:"checkbox",className:"read-check",name:"isRead",checked:this.props.book.isRead,onChange:function(t){e.props.changeRead(t,e.props.book)}})),n.a.createElement("br",null),n.a.createElement(p.a,{className:"icon-btn",size:"20px",color:"#31bebe",onClick:function(){e.props.editBook(e.props.book)}}),n.a.createElement(p.b,{className:"icon-btn",size:"20px",color:"#ed487f",onClick:function(){e.props.deleteBook(e.props.book)}}))}}]),o}(n.a.Component),g=function(e){Object(d.a)(o,e);var t=Object(b.a)(o);function o(){return Object(l.a)(this,o),t.apply(this,arguments)}return Object(h.a)(o,[{key:"render",value:function(){return n.a.createElement("div",{className:"form-div"},n.a.createElement("form",null,n.a.createElement("input",{type:"text",placeholder:"Book Title",name:"title",value:this.props.book.title,onChange:this.props.handleChange}),n.a.createElement("input",{type:"text",placeholder:"Author",name:"author",value:this.props.book.author,onChange:this.props.handleChange}),n.a.createElement("input",{type:"text",placeholder:"ISBN",name:"isbn",value:this.props.book.isbn,onChange:this.props.handleChange}),n.a.createElement("input",{type:"text",placeholder:"No. of pages",name:"pages",value:this.props.book.pages,onChange:this.props.handleChange}),n.a.createElement("label",null,"Mark as read :",n.a.createElement("input",{type:"checkbox",name:"isRead",onChange:this.props.handleChange,checked:this.props.book.isRead,className:"form-check"})),n.a.createElement("button",{className:"btn btn-primary",onClick:"edit"===this.props.formMode?this.props.saveBook:this.props.handleClick},"edit"===this.props.formMode?"Save":"Add Book"),n.a.createElement("button",{className:"btn btn-danger",onClick:this.props.hideModal},"Cancel")))}}]),o}(n.a.Component),f=function e(t,o,a,n,s){Object(l.a)(this,e),this.title=t,this.isbn=o,this.author=a,this.pages=n,this.isRead=s,this.coverImage="http://covers.openlibrary.org/b/isbn/".concat(this.isbn,"-M.jpg")},v=new f("Man's search for meaning","080701429X","Viktor E Frankl",246,!0),B=new f("The Waste Lands","0451210867","Stephen King",608,!1),y=function(e){Object(d.a)(o,e);var t=Object(b.a)(o);function o(){var e;return Object(l.a)(this,o),(e=t.call(this)).state={books:[v,B],currentBook:{title:"",author:"",isbn:"",pages:"",isRead:!1},modalState:{display:"none"},formMode:"",editBookIsbn:""},e.displayForm=e.displayForm.bind(Object(k.a)(e)),e.handleChange=e.handleChange.bind(Object(k.a)(e)),e.createBook=e.createBook.bind(Object(k.a)(e)),e.hideModal=e.hideModal.bind(Object(k.a)(e)),e.editBook=e.editBook.bind(Object(k.a)(e)),e.saveBook=e.saveBook.bind(Object(k.a)(e)),e.deleteBook=e.deleteBook.bind(Object(k.a)(e)),e.changeRead=e.changeRead.bind(Object(k.a)(e)),e}return Object(h.a)(o,[{key:"displayForm",value:function(){this.setState({currentBook:{title:"",author:"",isbn:"",pages:"",isRead:!1},modalState:{display:"block"},formMode:"new"})}},{key:"hideModal",value:function(e){e.preventDefault(),this.setState({modalState:{display:"none"}})}},{key:"handleChange",value:function(e){e.persist(),"checkbox"===e.target.type?this.setState((function(t){return{currentBook:Object(c.a)(Object(c.a)({},t.currentBook),{},Object(i.a)({},e.target.name,e.target.checked))}})):this.setState((function(t){return{currentBook:Object(c.a)(Object(c.a)({},t.currentBook),{},Object(i.a)({},e.target.name,e.target.value))}}))}},{key:"createBook",value:function(e){e.preventDefault();var t=new f(this.state.currentBook.title,this.state.currentBook.isbn,this.state.currentBook.author,this.state.currentBook.pages,this.state.currentBook.isRead);this.setState((function(e){return e.books.push(t),{books:e.books}}))}},{key:"editBook",value:function(e){this.displayForm(),this.setState({currentBook:e,formMode:"edit",editBookIsbn:e.isbn})}},{key:"deleteBook",value:function(e){this.setState((function(t){for(var o=0;o<t.books.length;o++)t.books[o].isbn===e.isbn&&t.books.splice(o,1);return{books:t.books}}))}},{key:"saveBook",value:function(e){var t=this;e.preventDefault(),this.setState((function(e){for(var o=0;o<e.books.length;o++)e.books[o].isbn===e.editBookIsbn&&e.books.splice(o,1);var a=new f(t.state.currentBook.title,t.state.currentBook.isbn,t.state.currentBook.author,t.state.currentBook.pages,t.state.currentBook.isRead);return e.books.push(a),{books:e.books}})),this.hideModal(e)}},{key:"changeRead",value:function(e,t){e.persist(),this.setState((function(o){for(var a=0;a<o.books.length;a++)o.books[a]===t&&(t.isRead=e.target.checked,o.books.splice(a,1,t));return{books:o.books}}))}},{key:"render",value:function(){var e=this,t=this.state.books.map((function(t){return n.a.createElement(m,{key:t.isbn,book:t,editBook:e.editBook,deleteBook:e.deleteBook,changeRead:e.changeRead})}));return n.a.createElement("div",{className:"container"},n.a.createElement(u,{onClick:this.displayForm}),n.a.createElement("div",{className:"modal",style:this.state.modalState},n.a.createElement(g,{book:this.state.currentBook,handleChange:this.handleChange,handleClick:this.createBook,hideModal:this.hideModal,saveBook:this.saveBook,formMode:this.state.formMode})),n.a.createElement("div",{className:"books-container"},t))}}]),o}(n.a.Component);o(16);r.a.render(n.a.createElement(y,null),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.1b306e3f.chunk.js.map